<?xml version="1.0" encoding="utf-8"?>
<mx:HBox xmlns="*" xmlns:mx="http://www.adobe.com/2006/mxml"
	xmlns:msg="com.wefootball.components.message.*" xmlns:acc="com.wefootball.components.account.*"
	xmlns:tm="com.wefootball.components.team.*" xmlns:fr="com.wefootball.components.friend.*"
	height="100%" 
	paddingLeft="20" paddingRight="20" paddingTop="20" paddingBottom="20"
	creationComplete="init()">

<mx:Script>
<![CDATA[
	import com.wefootball.events.*;
	import mx.controls.Alert;
	import com.wefootball.model.Team;
	import com.wefootball.components.team.TeamBox;
	import com.wefootball.components.team.TeamMemberBox;
    import mx.rpc.events.ResultEvent;
    import mx.rpc.events.FaultEvent;
	
  	private function init():void
	{
	}
	
	[Bindable]
	public var team:Team = null;
	public function set teamId(i:String):void {
		team = null;
		displayTeam(i);
	}
	private function displayTeam(id:String):void {
  		Team.show(id,
     		handleTeamDetailResult,
     		handleTeamFaultDetailResult);
	} 
  	private function handleTeamDetailResult(t:Team, event:ResultEvent):void{
   		Team.TEAM_PARSER(event.result, Team.currentTeam);
 	}
 	private function handleTeamFaultDetailResult(event:FaultEvent):void{
 		Alert.show("读取细节失败"); 			
 	}
	
]]>
</mx:Script>
		<mx:ApplicationControlBar width="200" height="100%" 
			paddingLeft="20" paddingRight="20" paddingTop="20" paddingBottom="20" >
			<mx:VBox height="100%" width="100%" >
				<mx:LinkButton label="球队信息" click="teamMainStack.selectedChild = teamInfoPage"/>
				<mx:LinkButton label="球队成员" click="teamMainStack.selectedChild = teamMemberPage"/>
<!--				<mx:LinkButton label="球队训练" click="teamMainStack.selectedChild = teamTraining"/>
				<mx:LinkButton label="球队论坛" click="teamMainStack.selectedChild = teamForum"/>-->
				<mx:LinkButton label="球队管理" click="teamMainStack.selectedChild = teamManagePage;"/>
			</mx:VBox>
		</mx:ApplicationControlBar>
		<mx:ApplicationControlBar width="700" height="100%" paddingTop="20" paddingBottom="20" >
			<mx:ViewStack id="teamMainStack" width="100%" height="100%">
				<mx:VBox width="100%" height="100%" id="teamInfoPage"
					paddingLeft="20" paddingRight="20" paddingBottom="20" >
					<mx:Label text="球队信息" styleName="head"/>
					<tm:TeamDetailBox height="100%"  id="teamDetailBox"/>
				</mx:VBox>
				<mx:VBox width="100%" height="100%" id="teamMemberPage"
					paddingLeft="20" paddingRight="20" paddingBottom="20" >
					<mx:Label text="球队成员" styleName="head"/>
					<tm:TeamMemberBox height="100%"  id="teamMemberBox"/>
				</mx:VBox>
				<mx:VBox width="100%" height="100%" id="teamManagePage"
					paddingLeft="20" paddingRight="20" paddingBottom="20" >
					<mx:Label text="管理球队" styleName="head"/>
					<tm:TeamUpdateBox height="100%"  id="teamUpdateBox"/>
				</mx:VBox>
			</mx:ViewStack>
		</mx:ApplicationControlBar>
</mx:HBox>